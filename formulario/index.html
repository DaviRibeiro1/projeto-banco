<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Banco do Bando - Simulador de Empréstimo</title>
    <link rel="stylesheet" href="/formulario/style.css" />
  </head>
  <body>
    <div class="center">
      <div class="card">
        <img src="/pngwing.com.png" alt="logo" />
        <h3>Banco Bando de Loucos</h3>
        <!-- Campos de entrada -->
        <div class="emprestimo">
          <label for="valorEmprestimo">Valor do Empréstimo:</label>
          <input
            type="number"
            id="valorEmprestimo"
            placeholder="Informe o valor do empréstimo"
          />
        </div>

        <div class="parcelas">
          <label for="quantidadeParcelas"
            >Quantidade de Parcelas (máximo de 96 meses):</label
          >
          <input
            type="number"
            id="quantidadeParcelas"
            placeholder="Informe a quantidade de parcelas"
            max="96"
          />
        </div>

        <!-- Botão de cálculo -->
        <div class="btn">
          <button onclick="calcularEmprestimo()">Calcular Empréstimo</button>
        </div>
        <!-- Exibição dos resultados -->
        <p>Valor da parcela mensal</p>
        <div id="mensal" class="resultado"></div>
        <p>Valor total do emprestimo</p>
        <div id="total" class="resultado"></div>
      </div>
    </div>
    <!-- Script -->
    <script>
      function calcularEmprestimo() {
        var valorEmprestimo = parseFloat(
          document.getElementById("valorEmprestimo").value
        );
        var quantidadeParcelas = parseInt(
          document.getElementById("quantidadeParcelas").value
        );

        if (
          isNaN(valorEmprestimo) ||
          isNaN(quantidadeParcelas) ||
          quantidadeParcelas <= 0 ||
          quantidadeParcelas > 96
        ) {
          alert("Por favor, informe valores válidos.");
          return;
        }

        var taxaAnualFixa = 0.4; // 40% ao ano
        var taxaMensal = taxaAnualFixa / 12;

        var valorParcela =
          (valorEmprestimo *
            (taxaMensal * Math.pow(1 + taxaMensal, quantidadeParcelas))) /
          (Math.pow(1 + taxaMensal, quantidadeParcelas) - 1);
        var valorTotalPago = valorParcela * quantidadeParcelas;

        var mensalDiv = document.getElementById("mensal");
        mensalDiv.innerHTML =
          "Valor da parcela mensal: R$" + valorParcela.toFixed(2) + "<br>";

        var totalDiv = document.getElementById("total");
        total.innerHTML = "Valor total pago: R$" + valorTotalPago.toFixed(2);
      }
    </script>
  </body>
</html>
